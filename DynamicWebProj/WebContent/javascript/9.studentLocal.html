<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script>
// global 
function Student(name_, major_, score1_, score2_, score3_) {
	var name = name_;
	var major = major_;
	var score1 = score1_;
	var score2 = score2_;
	var score3 = score3_;
	this.getName = function () {return name; };
	this.getMajor = function () {return major; };
	this.getScore1 = function () {return score1; };
	this.getScore2 = function () {return score2; };
	this.getScore3 = function () {return score3; };
	
}
Student.prototype.getSum = function () {
	return this.getScore1() + this.getScore2() + this.getScore3();
};
Student.prototype.getAvg = function () {
	return (this.getSum()/3).toFixed(2);
};

Student.prototype.toString = function () {
	return this.getName() + "=> " + this.getMajor() + " "+  this.getAvg();	
};

var students = []; // new Array()
students.push ( new Student("김", "컴공", 100,80, 90));
students.push ( new Student("수", "컴공", 80,80, 90));
students.push ( new Student("환", "경영", 30,80, 90));
students.push ( new Student("김", "컴공", 60,80, 90));
students.push ( new Student("박", "컴공", 70,80, 90));

function print() {
	here.innerHTML = "";
	students.slice(0,3);
	for (var idx in students) {
		here.innerHTML += students[idx]+"<br>";
	}
}

window.onload = function() {
	btn1.onclick = function() {
		students.sort(function(a,b){
			return a.getAvg()-b.getAvg();
		}); 
		print(); 
	};

	btn2.onclick = function() {
		students.sort(function(a, b) {
			return a.getName().localeCompare(b.getName());
		});
		print();
	};
	btn3.onclick = function() {
		students.sort(function(a, b) {
			if( a.getName().localeCompare(b.getName()) ==0) return b.getAvg()-a.getAvg();
			else return a.getName().localeCompare(b.getName());
		});
		print();
	};

	btn4.onclick = function() {
		students.sort(function(a, b) {
			if( a.getMajor().localeCompare(b.getMajor()) ==0) return b.getAvg()-a.getAvg();
			else return a.getMajor().localeCompare(b.getMajor());
		});
		print();
	};

	btn5.onclick = function() {
		var arr = [10,20,30,40,50];
		here.innerHTML = arr.join("---");
		arr.splice(1,1);
		here.innerHTML += arr.join("---");
		Array.prototype.aa = function(i) {
			alert("아무거나");
			this.splice(i,1);
			
		};
		arr.aa(0);
		here.innerHTML += arr.join("---");
		
	};
};

</script>
</head>
<body>
<h1>java script object</h1>

<hr>
<button id="btn1">점수순으로 정렬</button>
<button id="btn2">이름순으로 정렬</button>
<button id="btn3">이름이 같으면 점수순으로 정렬</button>
<button id="btn4">전공순으로 정렬</button>
<button id="btn5">배열요소지우기</button>
<hr>
<div id="here">HERE</div>
</body>
</html>